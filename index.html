<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="css/semantic.css"><!-- Permite conectar con las librerias de Semantic.css-->
	<link rel="stylesheet" type="text/css" href="css/style.css"><!-- Permite conectar el style.css con el index -->
	<title>Tienda_Vitual</title>
</head>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script><!-- Libreria ajax -->
<script src="js/semantic.js"></script><!-- Permite conectar con las librerias de Semantic.js-->
 <script
    src="https://code.jquery.com/jquery-3.1.1.min.js"
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
    crossorigin="anonymous">
</script>
<body> 		 
  <div>
    <img src="img/logo.jpeg" width="228" height="190" align="left"><center><h4>Presentado por: Leonardo Quintero y Nicolas Gonzalez</h4></p><h3>Si no es barato, no es Ete Sech</h3></center>
  </div>
	
  <div class="tab"><!-- Permite la creacion de los botones principales -->
    <button class="tablinks" onclick="abrirCategoria(event, 'producto')" id="defaultOpen">Productos</button>
    <button class="tablinks" onclick="abrirCategoria(event, 'registro_producto')">Registrar Productos</button>
    <button class="tablinks" onclick="abrirCategoria(event, 'ingresar')">Ingresar</button>
  </div>

  <div id="producto" class="tabcontent"><!-- Permite agregar la funcionalidad del boton producto de la clase tab -->
    <center><h2>Productos</h2></center>
    <button value="OK" id="botoncarta" class="button">Mostrar</button>
    <div id="cd" class="ui cards stackable"><!-- Se generan las cartas de los porductos -->
            
    </div>
  </div> 
 

  <div id="registro_producto" class="tabcontent"><!-- Permite agregar la funcionalidad del boton registro_producto de la clase tab -->
    <div id="contenido"><!-- Permite realizar el diseño de la etiqueta form -->

      <form action="/cgi-bin/ProyectoPythonArquitectura/gin.py" method="POST" id="registrar"><!-- Se emplea la etiqueta form para realizar la comunicacion con el documento gin.py y enviar los datos -->
        <h1><center>Registre sus producto</center></h1>
          <div>
            <h4>Usuario:</h4>
            <input type="text" name="usuario" id="caja1" class="registro" placeholder=" Nombre" /><!-- Permite capturar los datos del usuario -->
          </div>

          <div>
            <h4>ID:</h4>
            <input type="text" name="id" id="caja2" class="registro" placeholder=" Identidad" /><!-- Permite capturar los datos del id del usuario -->
          </div>

          <div>
            <h4>Producto:</h4>
            <input type="text" name="des" id="caja3" class="registro" placeholder=" Nombre del producto"/><!-- Permite capturar los datos del nombre del producto -->
          </div>

          <div>
            <h4>Especificaciones:</h4>
            <input type="text" name="espe" id="caja4" class="registro"  /><!-- Permite capturar los datos de las especificaciones del prodcuto -->
          </div>

          <div>
            <h4>Precio:</h4>
            <input type="text" name="precio" id="caja5" class="registro" placeholder=" Precio" /><!-- Permite capturar los datos del precio del producto -->
          </div>

          <div>
            <h4>Cantidad:</h4>
            <input type="text" name="can" id="caja6" class="registro" placeholder=" Cantidad" /><!-- Permite capturar los datos de la cantidad de un producto -->
          </div>

          <div>
            <input type="submit" name="crear" id="crearP" /><!-- Permite enviar los datos ingresados a gin.py para almacenarlos -->
          </div>
      </form>
        <button value="OK" id="botonprueba" class="button">Comprobar</button><!-- Permite comprobar si los campos estan diligenciados correctamente -->
    </div>
  </div>

  <div id="ingresar" class="tabcontent"><!-- Permite agregar la funcionalidad del boton ingresar de la clase tab -->

    <div id="login"><!-- Permite realizar el diseño de la etiqueta form -->

      <form action="/cgi-bin/ProyectoPythonArquitectura/ingreso2.py" method="POST" id="registrarpersona"><!-- Se emplea la etiqueta form para realizar la comunicacion con el documento ingreso2.py y enviar los datos -->
        <h1><center>Registre sus producto</center></h1>
          <div>
            <h4>Usuario:</h4>
            <input type="text" name="usuario" id="caja1" class="registro" placeholder=" Usuario" /><!-- Permite capturar los datos del usuario-->
          </div>

          <div>
            <h4>Password:</h4>
            <input type="text" name="password" id="caja2" class="registro"  /><!-- Permite capturar la contraseña del usuario -->
          </div>

          <div>
            <input type="submit" name="ingresado" id="ingresado" /><!-- Permite enviar los datos ingresados a ingreso2.py para almacenarlos -->
          </div>
      </form>
    </div>

  </div>

  <div id="app">
    <div v-show="opcion">
        <div class="ui three stackable cards" >
            <div class="ui link card" v-for="usuario in usuarios" >
                <strong>
                <div class="content">
                  <a  class="header">Nombre: {{usuario.first_name}} {{usuario.last_name}}</a>
                  <div class="description"></p>
                    <button v-on:click="f2(usuario.id)">
                        Inspeccionar
                    </button></strong>
                  </div>
                </div>
              </div>
        </div>
</div>

    <div v-show="!opcion">
        <div class="ui link card">
            <div class="image">
              <img v-bind:src="user.data.avatar">
            </div><strong>
            <div class="content">
            <a  class="header">ID Usuario: {{user.data.id}}</p></a>
              <a  class="header">Primer Nombre: {{user.data.first_name}}</p></a>
              <a  class="header">Segundo Nombre: {{user.data.last_name}}</p></a>
                <a  class="header">Correo: {{user.data.email}}</a></strong>
            </div>
          </div>
        <button v-on:click="f3">volver</button>
    </div>
    <center><h3>Bienvenido</h3></center>
    <button v-on:click="f">Presioname</button>

</div>
<script>
var usuarios= [];
var opcion=true;
var url='http://ec2-54-146-65-4.compute-1.amazonaws.com:5000/ping';
var user={data:"",support:""};
var app = new Vue({
     el: '#app',
     data: {
       usuarios:usuarios,
       user:user,
       opcion:opcion
     },
     methods: {
        f: function(){
            axios.get(url)
            .then(response => {
                const users = response.data.data;
                this.usuarios = users;
                console.log(`GET list users`, users);
            })
            .catch(error => console.error(error));
        },
        f2: function(id){
            axios.get(url+id)
            .then(response => {
                const user = response.data;
                this.user = user
                console.log(`GET user`, user);
            })
            .catch(error => console.error(error));
            this.opcion=false;
        },
        f3: function(){
            this.opcion=true;
        }
     }
})
</script>
</body>
<script src="js/script.js"></script>
</html>