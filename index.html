<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="css/semantic.css"><!-- Permite conectar con las librerias de Semantic.css-->
	<link rel="stylesheet" type="text/css" href="css/style.css"><!-- Permite conectar el style.css con el index -->
	<title>Tienda_Vitual</title>
</head>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script><!-- Libreria ajax -->
<script src="js/semantic.js"></script><!-- Permite conectar con las librerias de Semantic.js-->
 <script
    src="https://code.jquery.com/jquery-3.1.1.min.js"
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
    crossorigin="anonymous">
</script>
<body> 		 
  <div>
    <img src="img/logo.jpeg" width="228" height="190" align="left"><center><h4>Presentado por: Leonardo Quintero y Nicolas Gonzalez</h4></p><h3>Si no es barato, no es Ete Sech</h3></center>
  </div>
	
  <div class="tab"><!-- Permite la creacion de los botones principales -->
    <button class="tablinks" onclick="abrirCategoria(event, 'producto')" id="defaultOpen">Productos</button>
    <button class="tablinks" onclick="abrirCategoria(event, 'registro_producto')">Registrar Productos</button>
    <button class="tablinks" onclick="abrirCategoria(event, 'ingresar')">Ingresar</button>
  </div>

<div id="producto" class="tabcontent"><!-- Permite agregar la funcionalidad del boton producto de la clase tab -->
    <center><h2>Productos</h2></center><!-- Mensaje de entrada -->
  <div id="app"><!-- Div app lo empleamos como container para o que usamos de Vue.js  -->
      <div v-show="opcion"><!-- Nos permite mostrar el elemento -->
        <div class="ui three stackable cards" ><!-- Nos muestra el contenedor de la carta generada por la libreria Semantic -->
            <div class="ui link card" v-for="usuario in usuarios" ><!-- Usamos v-for para mostrar nuestra lista de elementos usuarios -->
                <div class="image">
                  <img v-bind:src="usuario.avatar"><!-- Nos permite generar la imagen  -->
                </div>
                <div class="content"><!-- En este div generamos nuestro contenido de la carta con Vue.js -->
                  <a  class="header">Producto: {{usuario.producto}} Precio:</a>
                  <a class="header">Precio: ${{usuario.precio}}</a>
                  <a  class="header">Vendedor: {{usuario.usuario}}</a>
                  <div class="description"><!-- Este div contiene el boton con el que llamamos por id nuestros productos en la url de python-->
                    <button v-on:click="f2(usuario.producto)" id="inspeccionar">
                        Inspeccionar
                    </button></strong>
                  </div>
                </div>
            </div>
        </div>
      </div>

    <div v-show="!opcion"><!-- Nos permite mostrar el elemento de manera condicional-->
        <div class="ui link card"><!-- Crea una carta de la libreria Semantic que contendra nuestros datos -->
            <div class="image">
              <img v-bind:src="user.avatar">
            </div>
            <div class="content"><!-- Contiene nuestro contenido para mostrar en la carta -->
              <a  class="header">Usuario: {{user.data.usuario}}</a>
              <a  class="header">Especificacion: {{user.data.especificacion}}</a>
              <a  class="header">Cantidad: {{user.data.cantidad}}</a>
              <a  class="header">Precio: {{user.data.precio}}</a>
            </div>
        </div>
        <button v-on:click="f3" id="volver">volver</button><!-- EL boton nos permite volver despues de inspeccionar nuestro contenido de la carta-->
    </div>
    <br></br>
      <button v-on:click="f" id="mostrar">Presioname</button><!-- El boton nos permite generar por medio de la funcion f nuestra lista de productos -->
  </div> 
</div> 
 

  <div id="registro_producto" class="tabcontent"><!-- Permite agregar la funcionalidad del boton registro_producto de la clase tab -->
    <div id="contenido"><!-- Permite realizar el diseño de la etiqueta form -->

      <form action="/cgi-bin/ProyectoPythonArquitectura/gin.py" method="POST" id="registrar"><!-- Se emplea la etiqueta form para realizar la comunicacion con el documento gin.py y enviar los datos -->
        <h1><center>Registre sus producto</center></h1>
          <div>
            <h4>Usuario:</h4>
            <input type="text" name="usuario" id="caja1" class="registro" placeholder=" Nombre" /><!-- Permite capturar los datos del usuario -->
          </div>

          <div>
            <h4>ID:</h4>
            <input type="text" name="id" id="caja2" class="registro" placeholder=" Identidad" /><!-- Permite capturar los datos del id del usuario -->
          </div>

          <div>
            <h4>Producto:</h4>
            <input type="text" name="des" id="caja3" class="registro" placeholder=" Nombre del producto"/><!-- Permite capturar los datos del nombre del producto -->
          </div>

          <div>
            <h4>Especificaciones:</h4>
            <input type="text" name="espe" id="caja4" class="registro"  /><!-- Permite capturar los datos de las especificaciones del prodcuto -->
          </div>

          <div>
            <h4>Precio:</h4>
            <input type="text" name="precio" id="caja5" class="registro" placeholder=" Precio" /><!-- Permite capturar los datos del precio del producto -->
          </div>

          <div>
            <h4>Cantidad:</h4>
            <input type="text" name="can" id="caja6" class="registro" placeholder=" Cantidad" /><!-- Permite capturar los datos de la cantidad de un producto -->
          </div>

          <div>
            <input type="submit" name="crear" id="crearP" /><!-- Permite enviar los datos ingresados a gin.py para almacenarlos -->
          </div>
      </form>
        <button value="OK" id="botonprueba" class="button">Comprobar</button><!-- Permite comprobar si los campos estan diligenciados correctamente -->
    </div>
  </div>

  <div id="ingresar" class="tabcontent"><!-- Permite agregar la funcionalidad del boton ingresar de la clase tab -->

    <div id="login"><!-- Permite realizar el diseño de la etiqueta form -->

      <form action="/cgi-bin/ProyectoPythonArquitectura/ingreso2.py" method="POST" id="registrarpersona"><!-- Se emplea la etiqueta form para realizar la comunicacion con el documento ingreso2.py y enviar los datos -->
        <h1><center>Registre sus producto</center></h1>
          <div>
            <h4>Usuario:</h4>
            <input type="text" name="usuario" id="caja1" class="registro" placeholder=" Usuario" /><!-- Permite capturar los datos del usuario-->
          </div>

          <div>
            <h4>Password:</h4>
            <input type="text" name="password" id="caja2" class="registro"  /><!-- Permite capturar la contraseña del usuario -->
          </div>

          <div>
            <input type="submit" name="ingresado" id="ingresado" /><!-- Permite enviar los datos ingresados a ingreso2.py para almacenarlos -->
          </div>
      </form>
    </div>
  </div>

  <div id="producto" class="tabcontent"><!-- Permite agregar la funcionalidad del boton producto de la clase tab -->
    <center><h2>Productos</h2></center>
</div> 
<script>
var usuarios= [];//Nos permite almacenar nuestro contenido
var opcion=true;// Permite tener arriba el v-show
var url='http://ec2-54-210-107-10.compute-1.amazonaws.com:5000/ping';//Nuestra url que cambia cada vez que iniciamos nuestra maquina
var user={data:"",support:""};//Creacion variable
var app = new Vue({//Nos permitira hacer nuestra programacion con Vue.js
     el: '#app',//LLamamos el div que vamos a emplear 
     data: {//Creaos un objeto data
       usuarios:usuarios,
       user:user,
       opcion:opcion
     },
     methods: {//Creamos nuestros metodos los cuales seran ejecutados en los botones mencionados anteriormente
        f: function(){//Genera los productos
            axios.get(url)
            .then(response => {
                const users = response.data.data;
                this.usuarios = users;
                console.log(`GET list users`, users);
            })
            .catch(error => console.error(error));
        },
        f2: function(id){//Permite inspeccionar por id
            axios.get(url+id)
            .then(response => {
                const user = response.data;
                this.user = user
                console.log(`GET user`, user);
            })
            .catch(error => console.error(error));
            this.opcion=false;
        },
        f3: function(){//Permite volver 
            this.opcion=true;
        }
     }
})
</script>
</body>
<script src="js/script.js"></script><!-- Permite realizar la conexion nuestro js -->
</html>